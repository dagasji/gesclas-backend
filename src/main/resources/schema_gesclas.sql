-- MySQL Script generated by MySQL Workbench
-- dom 04 nov 2018 18:45:40 CET
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';

-- -----------------------------------------------------
-- Schema CLASGES
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema CLASGES
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `CLASGES` DEFAULT CHARACTER SET utf8 ;
USE `CLASGES` ;

-- -----------------------------------------------------
-- Table `CLASGES`.`INDICADOR`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `CLASGES`.`INDICADOR` (
  `ID_INDICADOR` INT NOT NULL AUTO_INCREMENT,
  `DS_CORTA` VARCHAR(45) NULL,
  `DS_LARGA` VARCHAR(4000) NOT NULL,
  `ID_USUARIO` INT NOT NULL,
  `ID_USUARIO_ALTA` VARCHAR(45) NOT NULL,
  `FC_FECHA_ALTA` DATE NOT NULL,
  `ID_USUARIO_MOD` VARCHAR(45) NOT NULL,
  `FC_FECHA_MOD` DATE NOT NULL,
  PRIMARY KEY (`ID_INDICADOR`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `CLASGES`.`RUBRICA`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `CLASGES`.`RUBRICA` (
  `ID_RUBRICA` INT NOT NULL AUTO_INCREMENT,
  `ID_INDICADOR_FK` INT NOT NULL,
  `NOTA` INT NOT NULL,
  `DS_DESCRIPCION` VARCHAR(1000) NULL,
  `ID_USUARIO` INT NOT NULL,
  `ID_USUARIO_ALTA` INT NOT NULL,
  `FC_FECHA_ALTA` DATE NOT NULL,
  `ID_USUARIO_MOD` INT NOT NULL,
  `FC_FECHA_MOD` DATE NOT NULL,
  PRIMARY KEY (`ID_RUBRICA`),
  INDEX `fk_RUBRICA_1_idx` (`ID_INDICADOR_FK` ASC),
  CONSTRAINT `fk_RUBRICA_1`
    FOREIGN KEY (`ID_INDICADOR_FK`)
    REFERENCES `CLASGES`.`INDICADOR` (`ID_INDICADOR`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `CLASGES`.`TEMA`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `CLASGES`.`TEMA` (
  `ID_TEMA` INT NOT NULL AUTO_INCREMENT,
  `DS_CORTA` VARCHAR(45) NOT NULL,
  `DS_LARGA` VARCHAR(4000) NULL,
  `FC_FECHA_ALTA` DATE NOT NULL,
  `ID_USUARIO_ALTA` INT NOT NULL,
  `FC_FECHA_MOD` DATE NOT NULL,
  `ID_USUARIO_MOD` INT NOT NULL,
  `ID_USUARIO` INT NOT NULL,
  PRIMARY KEY (`ID_TEMA`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `CLASGES`.`TEMA_INDICADOR`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `CLASGES`.`TEMA_INDICADOR` (
  `ID_TEMA_INDICADOR` INT NOT NULL AUTO_INCREMENT,
  `ID_TEMA_FK` INT NOT NULL,
  `ID_INDICADOR_FK` INT NOT NULL,
  `ID_USUARIO` INT NOT NULL,
  `NM_PONDERACION` INT NOT NULL,
  `ID_USUARIO_ALTA` INT NOT NULL,
  `FC_FECHA_ALTA` DATE NOT NULL,
  `ID_USUARIO_MOD` INT NOT NULL,
  `FC_FECHA_MOD` DATE NOT NULL,
  PRIMARY KEY (`ID_TEMA_INDICADOR`),
  INDEX `fk_TEMA_INDICADOR_TEMA1_idx` (`ID_TEMA_FK` ASC),
  INDEX `fk_TEMA_INDICADOR_INDICADOR1_idx` (`ID_INDICADOR_FK` ASC),
  CONSTRAINT `fk_TEMA_INDICADOR_TEMA1`
    FOREIGN KEY (`ID_TEMA_FK`)
    REFERENCES `CLASGES`.`TEMA` (`ID_TEMA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_TEMA_INDICADOR_INDICADOR1`
    FOREIGN KEY (`ID_INDICADOR_FK`)
    REFERENCES `CLASGES`.`INDICADOR` (`ID_INDICADOR`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `CLASGES`.`INSTRUMENTO_EVALUACION`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `CLASGES`.`INSTRUMENTO_EVALUACION` (
  `ID_INSTRUMENTO_EVALUACION` INT NOT NULL AUTO_INCREMENT,
  `DS_DESCRIPCION` VARCHAR(100) NOT NULL,
  `DS_DESCRIPCION_LARGA` VARCHAR(1000) NULL,
  `FC_FECHA_ALTA` DATE NOT NULL,
  `ID_USUARIO_ALTA` INT NOT NULL,
  `FC_FECHA_MOD` DATE NOT NULL,
  `ID_USUARIO_MOD` INT NOT NULL,
  `ID_USUARIO` INT NOT NULL,
  PRIMARY KEY (`ID_INSTRUMENTO_EVALUACION`))
ENGINE = InnoDB
COMMENT = 'Los intrumentos de evaluaci√≥n pueden ser ejercicios de clase, libreta, examenes';


-- -----------------------------------------------------
-- Table `CLASGES`.`TEMA_INSTRU_EVAL`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `CLASGES`.`TEMA_INSTRU_EVAL` (
  `ID_TEMA_INSTRU_EVAL` INT NOT NULL AUTO_INCREMENT,
  `ID_TEMA_FK` INT NOT NULL,
  `ID_INSTRUMENTO_EVALUACION_FK` INT NOT NULL,
  `NM_PONDERACION` INT NOT NULL,
  `ID_USUARIO` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`ID_TEMA_INSTRU_EVAL`),
  INDEX `fk_TEMA_INSTRU_EVAL_TEMA1_idx` (`ID_TEMA_FK` ASC),
  INDEX `fk_TEMA_INSTRU_EVAL_INSTRUMENTO_EVALUACION1_idx` (`ID_INSTRUMENTO_EVALUACION_FK` ASC),
  CONSTRAINT `fk_TEMA_INSTRU_EVAL_TEMA1`
    FOREIGN KEY (`ID_TEMA_FK`)
    REFERENCES `CLASGES`.`TEMA` (`ID_TEMA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_TEMA_INSTRU_EVAL_INSTRUMENTO_EVALUACION1`
    FOREIGN KEY (`ID_INSTRUMENTO_EVALUACION_FK`)
    REFERENCES `CLASGES`.`INSTRUMENTO_EVALUACION` (`ID_INSTRUMENTO_EVALUACION`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `CLASGES`.`TIPO_CLASE`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `CLASGES`.`TIPO_CLASE` (
  `ID_TIPO_CLASE` INT NOT NULL AUTO_INCREMENT,
  `DS_TIPO_CLASE` VARCHAR(250) NOT NULL,
  PRIMARY KEY (`ID_TIPO_CLASE`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `CLASGES`.`CLASE`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `CLASGES`.`CLASE` (
  `ID_CLASE` INT NOT NULL AUTO_INCREMENT,
  `DS_DESCRIPCION` VARCHAR(250) NOT NULL,
  `ID_TIPO_CLASE` INT NOT NULL,
  `NM_ANIO` VARCHAR(45) NOT NULL,
  `DS_OBSERVACIONES` VARCHAR(1000) NULL,
  `FC_FECHA_ALTA` DATE NOT NULL,
  `ID_USUARIO_ALTA` INT NOT NULL,
  `FC_FECHA_MOD` DATE NOT NULL,
  `ID_USUARIO_MOD` INT NOT NULL,
  `ID_USUARIO` INT NOT NULL,
  PRIMARY KEY (`ID_CLASE`),
  INDEX `fk_CLASE_TIPO_CLASE1_idx` (`ID_TIPO_CLASE` ASC),
  CONSTRAINT `fk_CLASE_TIPO_CLASE1`
    FOREIGN KEY (`ID_TIPO_CLASE`)
    REFERENCES `CLASGES`.`TIPO_CLASE` (`ID_TIPO_CLASE`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `CLASGES`.`ALUMNO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `CLASGES`.`ALUMNO` (
  `ID_ALUMNO` INT NOT NULL AUTO_INCREMENT,
  `DS_NOMBRE` VARCHAR(100) NOT NULL,
  `DS_APELLIDOS` VARCHAR(250) NULL,
  `DS_CONTACTO_1` VARCHAR(250) NULL,
  `DS_TELEFONO_CONTACTO_1` VARCHAR(45) NULL,
  `DS_CONTACTO_2` VARCHAR(250) NULL,
  `DS_TELEFONO_CONTACTO_2` VARCHAR(45) NULL,
  `FC_FECHA_ALTA` DATE NOT NULL,
  `ID_USUARIO_ALTA` INT NOT NULL,
  `FC_FECHA_MOD` DATE NOT NULL,
  `ID_USUARIO_MOD` INT NOT NULL,
  `ID_USUARIO` INT NOT NULL,
  PRIMARY KEY (`ID_ALUMNO`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `CLASGES`.`CLASE_ALUMNO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `CLASGES`.`CLASE_ALUMNO` (
  `ID_CLASE_ALUMNO` INT NOT NULL AUTO_INCREMENT,
  `ID_ALUMNO` INT NOT NULL,
  `ID_CLASE` INT NOT NULL,
  `ID_USUARIO` INT NOT NULL,
  `ID_USUARIO_ALTA` INT NOT NULL,
  `FC_FECHA_ALTA` DATE NOT NULL,
  `ID_USUARIO_MOD` INT NOT NULL,
  `FC_FECHA_MOD` DATE NOT NULL,
  PRIMARY KEY (`ID_CLASE_ALUMNO`),
  INDEX `fk_CLASE_ALUMNO_ALUMNO1_idx` (`ID_ALUMNO` ASC),
  INDEX `fk_CLASE_ALUMNO_CLASE1_idx` (`ID_CLASE` ASC),
  CONSTRAINT `fk_CLASE_ALUMNO_ALUMNO1`
    FOREIGN KEY (`ID_ALUMNO`)
    REFERENCES `CLASGES`.`ALUMNO` (`ID_ALUMNO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_CLASE_ALUMNO_CLASE1`
    FOREIGN KEY (`ID_CLASE`)
    REFERENCES `CLASGES`.`CLASE` (`ID_CLASE`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `CLASGES`.`TEMA_INDICADOR_INSTRU`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `CLASGES`.`TEMA_INDICADOR_INSTRU` (
  `ID_TEMA_INDICADOR_INSTRU` INT NOT NULL AUTO_INCREMENT,
  `ID_TEMA_INDICADOR` INT NOT NULL,
  `ID_TEMA_INSTRU_EVAL` INT NOT NULL,
  `FC_FECHA_ALTA` DATE NOT NULL,
  `ID_USUARIO_ALTA` INT NOT NULL,
  `FC_FECHA_MOD` DATE NOT NULL,
  `ID_USUARIO_MOD` INT NOT NULL,
  `ID_USUARIO` INT NOT NULL,
  PRIMARY KEY (`ID_TEMA_INDICADOR_INSTRU`),
  INDEX `fk_TEMA_INDICADOR_INSTRU_TEMA_INDICADOR1_idx` (`ID_TEMA_INDICADOR` ASC),
  INDEX `fk_TEMA_INDICADOR_INSTRU_TEMA_INSTRU_EVAL1_idx` (`ID_TEMA_INSTRU_EVAL` ASC),
  CONSTRAINT `fk_TEMA_INDICADOR_INSTRU_TEMA_INDICADOR1`
    FOREIGN KEY (`ID_TEMA_INDICADOR`)
    REFERENCES `CLASGES`.`TEMA_INDICADOR` (`ID_TEMA_INDICADOR`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_TEMA_INDICADOR_INSTRU_TEMA_INSTRU_EVAL1`
    FOREIGN KEY (`ID_TEMA_INSTRU_EVAL`)
    REFERENCES `CLASGES`.`TEMA_INSTRU_EVAL` (`ID_TEMA_INSTRU_EVAL`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION);


-- -----------------------------------------------------
-- Table `CLASGES`.`NOTA`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `CLASGES`.`NOTA` (
  `ID_NOTA` INT NOT NULL AUTO_INCREMENT,
  `ID_TEMA_INDICADOR_INSTRU` INT NOT NULL,
  `ID_CLASE_ALUMNO` INT NOT NULL,
  `ID_USUARIO` INT NOT NULL,
  `NOTA` FLOAT NOT NULL,
  `ID_USUARIO_ALTA` INT NOT NULL,
  `ID_FECHA_ALTA` DATE NOT NULL,
  `ID_USUARIO_MOD` INT NOT NULL,
  `FC_FECHA_MOD` DATE NOT NULL,
  PRIMARY KEY (`ID_NOTA`),
  INDEX `fk_NOTA_TEMA_INDICADOR_INSTRU1_idx` (`ID_TEMA_INDICADOR_INSTRU` ASC),
  INDEX `fk_NOTA_CLASE_ALUMNO1_idx` (`ID_CLASE_ALUMNO` ASC),
  CONSTRAINT `fk_NOTA_TEMA_INDICADOR_INSTRU1`
    FOREIGN KEY (`ID_TEMA_INDICADOR_INSTRU`)
    REFERENCES `CLASGES`.`TEMA_INDICADOR_INSTRU` (`ID_TEMA_INDICADOR_INSTRU`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_NOTA_CLASE_ALUMNO1`
    FOREIGN KEY (`ID_CLASE_ALUMNO`)
    REFERENCES `CLASGES`.`CLASE_ALUMNO` (`ID_CLASE_ALUMNO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION);


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
