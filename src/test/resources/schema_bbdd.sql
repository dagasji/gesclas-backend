-- MySQL Script generated by MySQL Workbench
-- lun 01 oct 2018 10:24:53 CEST
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';

-- -----------------------------------------------------
-- Schema CLASGES
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Table `INDICADOR`
-- -----------------------------------------------------
CREATE TABLE "INDICADOR" (
  ID_INDICADOR INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
  DS_CORTA VARCHAR(45) NULL,
  `DS_LARGA` VARCHAR(4000) NOT NULL,
  `ID_USUARIO` INT NOT NULL,
  `ID_USUARIO_ALTA` VARCHAR(45) NOT NULL,
  `FC_FECHA_ALTA` VARCHAR(45) NOT NULL,
  `ID_USUARIO_MOD` VARCHAR(45) NOT NULL,
  `FC_FECHA_MOD` VARCHAR(45) NOT NULL);
  


-- -----------------------------------------------------
-- Table `RUBRICA`
-- -----------------------------------------------------
CREATE TABLE `RUBRICA` (
  `ID_RUBRICA` INT NOT NULL PRIMARY KEY AUTOINCREMENT,
  `ID_INDICADOR_FK` INT NOT NULL,
  `NOTA` INT NOT NULL,
  `DS_DESCRIPCION` VARCHAR(1000) NULL,
  `ID_USUARIO` INT NOT NULL,
  `ID_USUARIO_ALTA` INT NOT NULL,
  `FC_FECHA_ALTA` VARCHAR(45) NOT NULL,
  `ID_USUARIO_MOD` INT NOT NULL,
  `FC_FECHA_MOD` VARCHAR(45) NOT NULL,
    FOREIGN KEY (`ID_INDICADOR_FK`)
    REFERENCES `INDICADOR` (`ID_INDICADOR`));


-- -----------------------------------------------------
-- Table `TEMA`
-- -----------------------------------------------------
CREATE TABLE `TEMA` (
  `ID_TEMA` INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
  `DS_CORTA` VARCHAR(45) NOT NULL,
  `DS_LARGA` VARCHAR(4000) NULL,
  `FC_FECHA_ALTA` DATE NOT NULL,
  `ID_USUARIO_ALTA` INT NOT NULL,
  `FC_FECHA_MOD` VARCHAR(45) NOT NULL,
  `ID_USUARIO_MOD` INTVARCHAR(45) NOT NULL,
  `ID_USUARIO` INT NOT NULL
  );


-- -----------------------------------------------------
-- Table `TEMA_INDICADOR`
-- -----------------------------------------------------
CREATE TABLE `TEMA_INDICADOR` (
  `ID_TEMA_INDICADOR` INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
  `ID_TEMA_FK` INT NOT NULL,
  `ID_INDICADOR_FK` INT NOT NULL,
  `ID_USUARIO` INT NOT NULL,
  `NM_PONDERACION` INT NOT NULL,
  `ID_USUARIO_ALTA` INT NOT NULL,
  `FC_FECHA_ALTA` VARCHAR(45) NOT NULL,
  `ID_USUARIO_MOD` INT NOT NULL,
  `FC_FECHA_MOD` VARCHAR(45) NOT NULL,
    FOREIGN KEY (`ID_TEMA_FK`)
    REFERENCES `TEMA` (`ID_TEMA`));


-- -----------------------------------------------------
-- Table `INSTRUMENTO_EVALUACION`
-- -----------------------------------------------------
CREATE TABLE `INSTRUMENTO_EVALUACION` (
  `ID_INSTRUMENTO_EVALUACION` INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
  `DS_DESCRIPCION` VARCHAR(100) NOT NULL,
  `DS_DESCRIPCION_LARGA` VARCHAR(1000) NULL,
  `FC_FECHA_ALTA` DATE NOT NULL,
  `ID_USUARIO_ALTA` INT NOT NULL,
  `FC_FECHA_MOD` DATE NOT NULL,
  `ID_USUARIO_MOD` INT NOT NULL,
  `ID_USUARIO` INT NOT NULL);


-- -----------------------------------------------------
-- Table `TEMA_INSTRU_EVAL`
-- -----------------------------------------------------
CREATE TABLE `TEMA_INSTRU_EVAL` (
  `ID_TEMA_INSTRU_EVAL` INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
  `ID_TEMA_FK` INT NOT NULL,
  `ID_INSTRUMENTO_EVALUACION_FK` INT NOT NULL,
  `NM_PONDERACION` INT NOT NULL,
  `ID_USUARIO` VARCHAR(45) NOT NULL,
    FOREIGN KEY (`ID_TEMA_FK`)
    REFERENCES `TEMA` (`ID_TEMA`)
    FOREIGN KEY (`ID_INSTRUMENTO_EVALUACION_FK`)
    REFERENCES `INSTRUMENTO_EVALUACION` (`ID_INSTRUMENTO_EVALUACION`));


-- -----------------------------------------------------
-- Table `TIPO_CLASE`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `TIPO_CLASE` (
  `ID_TIPO_CLASE` INT NOT NULL PRIMARY KEY AUTOINCREMENT,
  `DS_TIPO_CLASE` VARCHAR(250) NOT NULL);


-- -----------------------------------------------------
-- Table `CLASE`
-- -----------------------------------------------------
CREATE TABLE `CLASE` (
  `ID_CLASE` INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
  `DS_DESCRIPCION` VARCHAR(250) NOT NULL,
  `TIPO_CLASE_ID_TIPO_CLASE` INT UNSIGNED NOT NULL,
  `NM_ANIO` VARCHAR(45) NOT NULL,
  `DS_OBSERVACIONES` VARCHAR(1000) NULL,
  `FC_FECHA_ALTA` DATE NOT NULL,
  `ID_USUARIO_ALTA` INT NOT NULL,
  `FC_FECHA_MOD` DATE NOT NULL,
  `ID_USUARIO_MOD` INT NOT NULL,
  `ID_USUARIO` INT NOT NULL,
    FOREIGN KEY (`TIPO_CLASE_ID_TIPO_CLASE`)
    REFERENCES `TIPO_CLASE` (`ID_TIPO_CLASE`));


-- -----------------------------------------------------
-- Table `ALUMNO`
-- -----------------------------------------------------
CREATE TABLE `ALUMNO` (
  `ID_ALUMNO` INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
  `DS_NOMBRE` VARCHAR(100) NOT NULL,
  `DS_APELLIDOS` VARCHAR(250) NULL,
  `DS_CONTACTO_1` VARCHAR(250) NULL,
  `DS_TELEFONO_CONTACTO_1` VARCHAR(45) NULL,
  `DS_CONTACTO_2` VARCHAR(250) NULL,
  `DS_TELEFONO_CONTACTO_2` VARCHAR(45) NULL,
  `FC_FECHA_ALTA` VARCHAR(45) NOT NULL,
  `ID_USUARIO_ALTA` INT NOT NULL,
  `FC_FECHA_MOD` VARCHAR(45) NOT NULL,
  `ID_USUARIO_MOD` INT NOT NULL,
  `ID_USUARIO` INT NOT NULL);


-- -----------------------------------------------------
-- Table `CLASE_ALUMNO`
-- -----------------------------------------------------
CREATE TABLE `CLASE_ALUMNO` (
  `ID_CLASE_ALUMNO` INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
  `ALUMNO_ID_ALUMNO` INT NOT NULL,
  `CLASE_ID_CLASE` INT NOT NULL,
  `ID_USUARIO` INT NOT NULL,
  `ID_USUARIO_ALTA` INT NOT NULL,
  `FC_FECHA_ALTA` DATE NOT NULL,
  `ID_USUARIO_MOD` INT NOT NULL,
  `FC_FECHA_MOD` DATE NOT NULL,
    FOREIGN KEY (`ALUMNO_ID_ALUMNO`)
    REFERENCES `ALUMNO` (`ID_ALUMNO`)
    FOREIGN KEY (`CLASE_ID_CLASE`)
    REFERENCES `CLASE` (`ID_CLASE`));


-- -----------------------------------------------------
-- Table `TEMA_INDICADOR_INSTRU`
-- -----------------------------------------------------
CREATE TABLE `TEMA_INDICADOR_INSTRU` (
  `ID_TEMA_INDICADOR_INSTRU` INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
  `TEMA_INDICADOR_ID_TEMA_INDICADOR` INT NOT NULL,
  `TEMA_INSTRU_EVAL_ID_TEMA_INSTRU_EVAL` INT NOT NULL,
  `FC_FECHA_ALTA` VARCHAR(45) NOT NULL,
  `ID_USUARIO_ALTA` INT NOT NULL,
  `FC_FECHA_MOD` VARCHAR(45) NOT NULL,
  `ID_USUARIO_MOD` INT NOT NULL,
  `ID_USUARIO` INT NOT NULL,
    FOREIGN KEY (`TEMA_INDICADOR_ID_TEMA_INDICADOR`)
    REFERENCES `TEMA_INDICADOR` (`ID_TEMA_INDICADOR`)
    FOREIGN KEY (`TEMA_INSTRU_EVAL_ID_TEMA_INSTRU_EVAL`)
    REFERENCES `TEMA_INSTRU_EVAL` (`ID_TEMA_INSTRU_EVAL`));


-- -----------------------------------------------------
-- Table `NOTA`
-- -----------------------------------------------------
CREATE TABLE `NOTA` (
  `ID_NOTA` INT NOT NULL PRIMARY KEY AUTOINCREMENT,
  `ID_TEMA_INDICADOR_INSTRU` INT NOT NULL,
  `ID_CLASE_ALUMNO` INT UNSIGNED NOT NULL,
  `ID_USUARIO` INT NOT NULL,
  `NOTA` FLOAT NOT NULL,
  `ID_USUARIO_ALTA` INT NOT NULL,
  `ID_FECHA_ALTA` VARCHAR(45) NOT NULL,
  `ID_USUARIO_MOD` INT NOT NULL,
  `FC_FECHA_MOD` VARCHAR(45) NOT NULL,
    FOREIGN KEY (`ID_TEMA_INDICADOR_INSTRU`)
    REFERENCES `TEMA_INDICADOR_INSTRU` (`ID_TEMA_INDICADOR_INSTRU`)
    FOREIGN KEY (`ID_CLASE_ALUMNO`)
    REFERENCES `CLASE_ALUMNO` (`ID_CLASE_ALUMNO`));


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
